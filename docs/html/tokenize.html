<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>About tokens &mdash; ideas 0.0.34 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tokenizing notebook" href="tokenize_notebook.html" />
    <link rel="prev" title="Examples that will never be included" href="excluded.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> ideas
          </a>
              <div class="version">
                0.0.34
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="motivation.html"> Additional motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html"> Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="function_simplest.html"> Create your own import hook</a></li>
<li class="toctree-l1"><a class="reference internal" href="lambda.html"> Create your own codec</a></li>
<li class="toctree-l1"><a class="reference internal" href="possible.html"> A deep dive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="guide.html"> Guide to the examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Source transformations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="function.html"> Improving function as a keyword</a></li>
<li class="toctree-l1"><a class="reference internal" href="nobreak.html"> nobreak as a keyword</a></li>
<li class="toctree-l1"><a class="reference internal" href="repeat.html"> repeat as a keyword</a></li>
<li class="toctree-l1"><a class="reference internal" href="french.html"> French Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="french_repeat.html"> French repeat</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_self.html"> Auto-self</a></li>
<li class="toctree-l1"><a class="reference internal" href="decimal_math.html"> Decimal math</a></li>
<li class="toctree-l1"><a class="reference internal" href="fractional_math_tok.html"> Fractional math (token)</a></li>
<li class="toctree-l1"><a class="reference internal" href="switch.html"> Switch statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="implicit_multiplication.html"> Implicit multiplication</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">AST transformations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="fractional_math_ast.html"> Fractional math (AST)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Bytecode transformations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="bytecode.html"> Confused math (Bytecode)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Others</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="constants.html"> True constants</a></li>
<li class="toctree-l1"><a class="reference internal" href="excluded.html"> Examples never included - first draft</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other modules</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#"> About tokens</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#about-ideas-tokens">About Ideas’ tokens</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-token_utils">token_utils.py API extracted by Sphinx</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#token-utils-py">token_utils.py</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tokenize_notebook.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="import_hook.html"> import_hook.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="console.html"> console.py</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ideas</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>About tokens</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/tokenize.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="excluded.html" class="btn btn-neutral float-left" title="Examples that will never be included" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tokenize_notebook.html" class="btn btn-neutral float-right" title="Tokenizing notebook" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="about-tokens">
<h1>About tokens<a class="headerlink" href="#about-tokens" title="Permalink to this headline"></a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The module token_utils has been made into its own library.
It should be installed automatically when installing ideas.
You can get it on its own using <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">token-utils</span></code></p>
</div>
<p>While <strong>ideas</strong> aims to provide support for all kinds of transformations,
including those that affect the Abstract Syntax Tree or the bytecode,
most transformations deal with exploring alternative syntax that is
not compatible with Python’s current syntax defined by its
<a class="reference external" href="https://docs.python.org/3/reference/grammar.html">grammar</a>.
Such alternative syntax cannot be parsed by Python without generating
a <code class="docutils literal notranslate"><span class="pre">SyntaxError</span></code> thus preventing the execution of the code.
For this reason, almost all of our examples transform the code
prior to letting Python parse it.  We do this using a set of tools
built upon Python’s <a class="reference external" href="https://docs.python.org/3/library/tokenize.html">tokenize module</a>.</p>
<aside class="sidebar">
<p class="sidebar-title">An excellent tutorial</p>
<p><a class="reference external" href="https://www.asmeurer.com/brown-water-python/">Brown Water Python</a>, written by Aaron Meurer, is an excellent and very comprehensive tutorial about Python’s
tokenize module.</p>
</aside>
<p>In our description of these tools below, we assume that you are
somewhat familiar with the concept of token objects generated by Python’s
tokenize module.  If you are not familiar with those, we suggest that
you read through at least once through the documentation about Python’s
tokenize module mentioned above.</p>
<p>The main points to understand:</p>
<ul>
<li><p>Using the <code class="docutils literal notranslate"><span class="pre">tokenize</span></code> function, a source can be broken down in tokens,
which, as generated by Python, are 5-tuples carrying information about their
<strong>type</strong>, their <strong>string</strong> content, their position in the source
(identified by starting and ending <strong>row</strong>, aka line number, and <strong>column</strong>),
as well as the content of the line where they are found.</p></li>
<li><p>From a list of tokens, the original source can essentially recreated
by using the <code class="docutils literal notranslate"><span class="pre">untokenize</span></code> function.
However, as stated in the documentation:</p>
<blockquote>
<div><p><em>The result is guaranteed to tokenize back to match the input so that
the conversion is lossless and round-trips are assured.
The guarantee applies only to the token type and
token string as the spacing between tokens (column positions) may change.</em></p>
</div></blockquote>
</li>
<li><p>To <code class="docutils literal notranslate"><span class="pre">untokenize</span></code> using the function from the Python
standard library, one can use either a list of 5-tuple tokens,
or a list of two-tuple tokens that include only the <strong>type</strong> and <strong>string</strong>
information.</p></li>
</ul>
<aside class="sidebar">
<p class="sidebar-title">Perfect round-trip</p>
<p>Unlike Python’s version, the process of tokenizing and untokenizing a source
using ideas’ own <code class="docutils literal notranslate"><span class="pre">tokenize</span></code> and <code class="docutils literal notranslate"><span class="pre">untokenize</span></code> functions
is guaranteed to yield back an exact copy of the original source, with all
the spacing information intact.
Experience has shown that being able to recover the
original source with spacing included is <strong>extremely</strong> useful when writing
tests about the expected results for some source transformation.</p>
</aside>
<section id="about-ideas-tokens">
<h2>About Ideas’ tokens<a class="headerlink" href="#about-ideas-tokens" title="Permalink to this headline"></a></h2>
<p>Recently (Feb. 21, 2020), on the Python-ideas mailing list,
<a class="reference external" href="https://mail.python.org/archives/list/python-ideas&#64;python.org/message/UNL62EMSNPA5USUS7SCEQZQ63PVP2FDL/">Andrew Barnert wrote</a>:</p>
<blockquote>
<div><p><em>Unfortunately, the boilerplate to write an import hook is more complicated than you’d
like (and pretty hard to figure out the first time),</em> <strong>and the support for filtering on the
token stream (the most obvious way to do this one)</strong>
<em>rather than the text stream, AST, or bytecode</em> <strong>is pretty minimal and clumsy.</strong>
[emphasis added]</p>
</div></blockquote>
<p><strong>Ideas</strong> uses <code class="docutils literal notranslate"><span class="pre">token-utils</span></code> which defines its own <code class="docutils literal notranslate"><span class="pre">Token</span></code> class built
from Python’s tokens.
While they carry the same information, they are much easier to use and manipulate.</p>
<p>Below is the API from the <code class="docutils literal notranslate"><span class="pre">token_utils</span></code> module.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>While we show below the full API of the <cite>token_utils</cite> module,
you might want to first to to next page to see a demonstration
of its usage, done in an actual programming session using a Jupyter notebook.</p>
</div>
</section>
<section id="module-token_utils">
<span id="token-utils-py-api-extracted-by-sphinx"></span><h2>token_utils.py API extracted by Sphinx<a class="headerlink" href="#module-token_utils" title="Permalink to this headline"></a></h2>
<section id="token-utils-py">
<h3>token_utils.py<a class="headerlink" href="#token-utils-py" title="Permalink to this headline"></a></h3>
<p>A collection of useful functions and methods to deal with tokenizing
source code.</p>
<dl class="py class">
<dt class="sig sig-object py" id="token_utils.Token">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">token_utils.</span></span><span class="sig-name descname"><span class="pre">Token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#Token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.Token" title="Permalink to this definition"></a></dt>
<dd><p>Token as generated from Python’s tokenize.generate_tokens written here in
a more convenient form, and with some custom methods.</p>
<p>The various parameters are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">:</span> <span class="n">token</span> <span class="nb">type</span>
<span class="n">string</span><span class="p">:</span> <span class="n">the</span> <span class="n">token</span> <span class="n">written</span> <span class="k">as</span> <span class="n">a</span> <span class="n">string</span>
<span class="n">start</span> <span class="o">=</span> <span class="p">(</span><span class="n">start_row</span><span class="p">,</span> <span class="n">start_col</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="p">(</span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span><span class="p">)</span>
<span class="n">line</span><span class="p">:</span> <span class="n">entire</span> <span class="n">line</span> <span class="n">of</span> <span class="n">code</span> <span class="n">where</span> <span class="n">the</span> <span class="n">token</span> <span class="ow">is</span> <span class="n">found</span><span class="o">.</span>
</pre></div>
</div>
<p>Token instances are mutable objects. Therefore, given a list of tokens,
we can change the value of any token’s attribute, untokenize the list and
automatically obtain a transformed source.</p>
<dl class="py method">
<dt class="sig sig-object py" id="token_utils.Token.is_comment">
<span class="sig-name descname"><span class="pre">is_comment</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#Token.is_comment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.Token.is_comment" title="Permalink to this definition"></a></dt>
<dd><p>Returns True if the token is a comment.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="token_utils.Token.is_complex">
<span class="sig-name descname"><span class="pre">is_complex</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#Token.is_complex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.Token.is_complex" title="Permalink to this definition"></a></dt>
<dd><p>Returns True if the token represents a complex number</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="token_utils.Token.is_float">
<span class="sig-name descname"><span class="pre">is_float</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#Token.is_float"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.Token.is_float" title="Permalink to this definition"></a></dt>
<dd><p>Returns True if the token represents a float</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="token_utils.Token.is_identifier">
<span class="sig-name descname"><span class="pre">is_identifier</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#Token.is_identifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.Token.is_identifier" title="Permalink to this definition"></a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if the token represents a valid Python identifier
excluding Python keywords.</p>
<p>Note: this is different from Python’s string method <code class="docutils literal notranslate"><span class="pre">isidentifier</span></code>
which also returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if the string is a keyword.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="token_utils.Token.is_in">
<span class="sig-name descname"><span class="pre">is_in</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#Token.is_in"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.Token.is_in" title="Permalink to this definition"></a></dt>
<dd><p>Returns True if the string attribute is found as an item of iterable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="token_utils.Token.is_integer">
<span class="sig-name descname"><span class="pre">is_integer</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#Token.is_integer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.Token.is_integer" title="Permalink to this definition"></a></dt>
<dd><p>Returns True if the token represents an integer</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="token_utils.Token.is_keyword">
<span class="sig-name descname"><span class="pre">is_keyword</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#Token.is_keyword"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.Token.is_keyword" title="Permalink to this definition"></a></dt>
<dd><p>Returns True if the token represents a Python keyword.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="token_utils.Token.is_name">
<span class="sig-name descname"><span class="pre">is_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#Token.is_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.Token.is_name" title="Permalink to this definition"></a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if the token is a type NAME</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="token_utils.Token.is_not_in">
<span class="sig-name descname"><span class="pre">is_not_in</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#Token.is_not_in"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.Token.is_not_in" title="Permalink to this definition"></a></dt>
<dd><p>Returns True if the string attribute is found as an item of iterable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="token_utils.Token.is_number">
<span class="sig-name descname"><span class="pre">is_number</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#Token.is_number"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.Token.is_number" title="Permalink to this definition"></a></dt>
<dd><p>Returns True if the token represents a number</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="token_utils.Token.is_space">
<span class="sig-name descname"><span class="pre">is_space</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#Token.is_space"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.Token.is_space" title="Permalink to this definition"></a></dt>
<dd><p>Returns True if the token indicates a change in indentation,
the end of a line, or the end of the source
(<code class="docutils literal notranslate"><span class="pre">INDENT</span></code>, <code class="docutils literal notranslate"><span class="pre">DEDENT</span></code>, <code class="docutils literal notranslate"><span class="pre">NEWLINE</span></code>, <code class="docutils literal notranslate"><span class="pre">NL</span></code>, and <code class="docutils literal notranslate"><span class="pre">ENDMARKER</span></code>).</p>
<p>Note that spaces, including tab charcters <code class="docutils literal notranslate"><span class="pre">\t</span></code>, between tokens
on a given line are not considered to be tokens themselves.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="token_utils.Token.is_string">
<span class="sig-name descname"><span class="pre">is_string</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#Token.is_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.Token.is_string" title="Permalink to this definition"></a></dt>
<dd><p>Returns True if the token is a string</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="token_utils.dedent">
<span class="sig-prename descclassname"><span class="pre">token_utils.</span></span><span class="sig-name descname"><span class="pre">dedent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#dedent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.dedent" title="Permalink to this definition"></a></dt>
<dd><p>Given a list of tokens, produces an equivalent list corresponding
to a line of code with the first nb characters removed.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="token_utils.find_token_by_position">
<span class="sig-prename descclassname"><span class="pre">token_utils.</span></span><span class="sig-name descname"><span class="pre">find_token_by_position</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#find_token_by_position"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.find_token_by_position" title="Permalink to this definition"></a></dt>
<dd><p>Given a list of tokens, a specific row (linenumber) and column,
a two-tuple is returned that includes the token
found at that position as well as its list index.</p>
<p>If no such token can be found, <code class="docutils literal notranslate"><span class="pre">None,</span> <span class="pre">None</span></code> is returned.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="token_utils.fix_empty_line">
<span class="sig-prename descclassname"><span class="pre">token_utils.</span></span><span class="sig-name descname"><span class="pre">fix_empty_line</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokens</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#fix_empty_line"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.fix_empty_line" title="Permalink to this definition"></a></dt>
<dd><p>Python’s tokenizer drops entirely a last line if it consists only of
space characters and/or tab characters.  To ensure that we can always have:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">untokenize</span><span class="p">(</span><span class="n">tokenize</span><span class="p">(</span><span class="n">source</span><span class="p">))</span> <span class="o">==</span> <span class="n">source</span>
</pre></div>
</div>
<p>we correct the last token content if needed.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="token_utils.get_first">
<span class="sig-prename descclassname"><span class="pre">token_utils.</span></span><span class="sig-name descname"><span class="pre">get_first</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#get_first"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.get_first" title="Permalink to this definition"></a></dt>
<dd><p>Given a list of tokens, find the first token which is not a space token
(such as a <code class="docutils literal notranslate"><span class="pre">NEWLINE</span></code>, <code class="docutils literal notranslate"><span class="pre">INDENT</span></code>, <code class="docutils literal notranslate"><span class="pre">DEDENT</span></code>, etc.) and,
by default, also not a <code class="docutils literal notranslate"><span class="pre">COMMMENT</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">COMMMENT</span></code> tokens can be included by setting <code class="docutils literal notranslate"><span class="pre">exclude_comment</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">None</span></code> if none is found.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="token_utils.get_first_index">
<span class="sig-prename descclassname"><span class="pre">token_utils.</span></span><span class="sig-name descname"><span class="pre">get_first_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#get_first_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.get_first_index" title="Permalink to this definition"></a></dt>
<dd><p>Given a list of tokens, find the index of the first token which is
not a space token (such as a <code class="docutils literal notranslate"><span class="pre">NEWLINE</span></code>, <code class="docutils literal notranslate"><span class="pre">INDENT</span></code>, <code class="docutils literal notranslate"><span class="pre">DEDENT</span></code>, etc.) nor
a <code class="docutils literal notranslate"><span class="pre">COMMMENT</span></code>. If it is desired to include COMMENT, set <code class="docutils literal notranslate"><span class="pre">exclude_comment</span></code>
to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">None</span></code> if none is found.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="token_utils.get_last">
<span class="sig-prename descclassname"><span class="pre">token_utils.</span></span><span class="sig-name descname"><span class="pre">get_last</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#get_last"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.get_last" title="Permalink to this definition"></a></dt>
<dd><p>Given a list of tokens, find the last token which is not a space token
(such as a <code class="docutils literal notranslate"><span class="pre">NEWLINE</span></code>, <code class="docutils literal notranslate"><span class="pre">INDENT</span></code>, <code class="docutils literal notranslate"><span class="pre">DEDENT</span></code>, etc.) and, by default,
also not a <code class="docutils literal notranslate"><span class="pre">COMMMENT</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">COMMMENT</span></code> tokens can be included by setting``exclude_comment``
to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">None</span></code> if none is found.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="token_utils.get_last_index">
<span class="sig-prename descclassname"><span class="pre">token_utils.</span></span><span class="sig-name descname"><span class="pre">get_last_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#get_last_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.get_last_index" title="Permalink to this definition"></a></dt>
<dd><p>Given a list of tokens, find the index of the last token which is
not a space token (such as a <code class="docutils literal notranslate"><span class="pre">NEWLINE</span></code>, <code class="docutils literal notranslate"><span class="pre">INDENT</span></code>, <code class="docutils literal notranslate"><span class="pre">DEDENT</span></code>, etc.) nor
a <code class="docutils literal notranslate"><span class="pre">COMMMENT</span></code>. If it is desired to include COMMENT, set <code class="docutils literal notranslate"><span class="pre">exclude_comment</span></code>
to True.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">None</span></code> if none is found.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="token_utils.get_lines">
<span class="sig-prename descclassname"><span class="pre">token_utils.</span></span><span class="sig-name descname"><span class="pre">get_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">warning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#get_lines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.get_lines" title="Permalink to this definition"></a></dt>
<dd><p>Transforms a source (string) into a list of Tokens, with each
(inner) list containing all the tokens found on a given line of code.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="token_utils.get_number">
<span class="sig-prename descclassname"><span class="pre">token_utils.</span></span><span class="sig-name descname"><span class="pre">get_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#get_number"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.get_number" title="Permalink to this definition"></a></dt>
<dd><p>Given a list of tokens, gives a count of the number of
tokens which are not space tokens (such as <code class="docutils literal notranslate"><span class="pre">NEWLINE</span></code>, <code class="docutils literal notranslate"><span class="pre">INDENT</span></code>,
<code class="docutils literal notranslate"><span class="pre">DEDENT</span></code>, etc.)</p>
<p>By default, <code class="docutils literal notranslate"><span class="pre">COMMMENT</span></code> tokens are not included in the count.
If you wish to include them, set <code class="docutils literal notranslate"><span class="pre">exclude_comment</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="token_utils.indent">
<span class="sig-prename descclassname"><span class="pre">token_utils.</span></span><span class="sig-name descname"><span class="pre">indent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tab</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#indent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.indent" title="Permalink to this definition"></a></dt>
<dd><p>Given a list of tokens, produces an equivalent list corresponding
to a line of code with nb space characters inserted at the beginning.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">tab</span></code> is specified to be <code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">nb</span></code> tab characters are inserted
instead of spaces.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="token_utils.print_tokens">
<span class="sig-prename descclassname"><span class="pre">token_utils.</span></span><span class="sig-name descname"><span class="pre">print_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#print_tokens"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.print_tokens" title="Permalink to this definition"></a></dt>
<dd><p>Prints tokens found in source, excluding spaces and comments.</p>
<p><code class="docutils literal notranslate"><span class="pre">source</span></code> is either a string to be tokenized, or a list of Token objects.</p>
<p>This is occasionally useful as a debugging tool.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="token_utils.strip_comment">
<span class="sig-prename descclassname"><span class="pre">token_utils.</span></span><span class="sig-name descname"><span class="pre">strip_comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#strip_comment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.strip_comment" title="Permalink to this definition"></a></dt>
<dd><p>Removes comments from a line</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="token_utils.tokenize">
<span class="sig-prename descclassname"><span class="pre">token_utils.</span></span><span class="sig-name descname"><span class="pre">tokenize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">warning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#tokenize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.tokenize" title="Permalink to this definition"></a></dt>
<dd><p>Transforms a source (string) into a list of Tokens.</p>
<p>If an exception is raised by Python’s tokenize module, the list of tokens
accumulated up to that point is returned.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="token_utils.untokenize">
<span class="sig-prename descclassname"><span class="pre">token_utils.</span></span><span class="sig-name descname"><span class="pre">untokenize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokens</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/token_utils.html#untokenize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#token_utils.untokenize" title="Permalink to this definition"></a></dt>
<dd><p>Return source code based on tokens.</p>
<p>Adapted from <a class="reference external" href="https://github.com/myint/untokenize">https://github.com/myint/untokenize</a>,
Copyright (C) 2013-2018 Steven Myint, MIT License (same as this project).</p>
<p>This is similar to Python’s own tokenize.untokenize(), except that it
preserves spacing between tokens, by using the line
information recorded by Python’s tokenize.generate_tokens.
As a result, if the original soure code had multiple spaces between
some tokens or if escaped newlines were used or if tab characters
were present in the original source, those will also be present
in the source code produced by untokenize.</p>
<p>Thus <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">==</span> <span class="pre">untokenize(tokenize(source))</span></code>.</p>
<p>Note: if you you modifying tokens from an original source:</p>
<p>Instead of full token object, <code class="docutils literal notranslate"><span class="pre">untokenize</span></code> will accept simple
strings; however, it will only insert them <em>as is</em> without taking them
into account when it comes with figuring out spacing between tokens.</p>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="excluded.html" class="btn btn-neutral float-left" title="Examples that will never be included" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tokenize_notebook.html" class="btn btn-neutral float-right" title="Tokenizing notebook" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, André Roberge.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>